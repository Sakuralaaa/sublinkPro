# ====================================================
# ğŸ¯ SublinkPro æ‰“é‡èŠ‚ç‚¹ä¸“ç”¨ Clash æ¨¡æ¿
# ====================================================
# é€‚ç”¨åœºæ™¯ï¼šå¤§é‡æ‰“é‡/é‡‡é›†è®¢é˜…èŠ‚ç‚¹ï¼Œç»è¿‡ SublinkPro è¿‡æ»¤åå¯¼å…¥ Clash ä½¿ç”¨
# ç‰¹ç‚¹ï¼š
#   1. è‡ªåŠ¨é€‰æ‹©ä½å»¶è¿ŸèŠ‚ç‚¹ï¼Œæ‰“é‡èŠ‚ç‚¹è´¨é‡å‚å·®ä¸é½ï¼Œè‡ªåŠ¨å®¹é”™
#   2. æŒ‰åœ°åŒºåˆ†ç»„æ–¹ä¾¿æ‰‹åŠ¨åˆ‡æ¢ï¼Œæ”¯æŒé¦™æ¸¯/æ—¥æœ¬/ç¾å›½/æ–°åŠ å¡/å°æ¹¾/éŸ©å›½/æ¬§æ´²/å…¶ä»–
#   3. AI/æµåª’ä½“/ç¤¾äº¤/ä¸‹è½½ç­‰å¸¸è§åœºæ™¯ç‹¬ç«‹åˆ†æµ
#   4. å†…ç½®å¹¿å‘Šæ‹¦æˆªè§„åˆ™
#   5. ä½¿ç”¨ __ALL_PROXIES__ å ä½ç¬¦ï¼ŒSublinkPro ä¼šè‡ªåŠ¨æ³¨å…¥æ‰€æœ‰èŠ‚ç‚¹
# ====================================================

port: 7890
socks-port: 7891
mixed-port: 7893
allow-lan: true
bind-address: '*'
mode: Rule
log-level: info
external-controller: :9090

# DNS é…ç½® - é˜²æ³„æ¼
dns:
  enabled: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*.lan'
    - '*.local'
    - '*.localhost'
    - localhost.ptlogin2.qq.com
    - dns.msftncsi.com
    - www.msftncsi.com
    - www.msftconnecttest.com
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - https://dns.google/dns-query
    - https://cloudflare-dns.com/dns-query
    - tls://8.8.8.8:853
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4

proxies: ~

proxy-groups:
  # ======== ä¸»é€‰æ‹©ç»„ ========
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - ğŸŒ å…¶ä»–èŠ‚ç‚¹
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢
      - DIRECT

  # ======== è‡ªåŠ¨é€‰æ‹©ï¼ˆurl-test å»¶è¿Ÿæœ€ä½ï¼‰ ========
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 100
    lazy: true

  # ======== æ•…éšœè½¬ç§»ï¼ˆfallback è‡ªåŠ¨åˆ‡æ¢å¯ç”¨èŠ‚ç‚¹ï¼‰ ========
  - name: ğŸ”¯ æ•…éšœè½¬ç§»
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    lazy: true

  # ======== æ‰‹åŠ¨åˆ‡æ¢ï¼ˆæ‰‹åŠ¨é€‰æ‹©å•ä¸ªèŠ‚ç‚¹ï¼‰ ========
  - name: ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢
    type: select

  # ======== AI å¹³å°ï¼ˆChatGPT/Claude/Gemini ç­‰ï¼‰ ========
  - name: ğŸ¤– AI å¹³å°
    type: select
    proxies:
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  # ======== æµåª’ä½“ ========
  - name: ğŸ“¹ YouTube
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  - name: ğŸ¥ Netflix
    type: select
    proxies:
      - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  - name: ğŸµ Spotify
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - DIRECT

  # ======== ç¤¾äº¤é€šè®¯ ========
  - name: ğŸ“² Telegram
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  # ======== å¾®è½¯æœåŠ¡ ========
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  # ======== è‹¹æœæœåŠ¡ ========
  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  # ======== æ¸¸æˆå¹³å° ========
  - name: ğŸ® æ¸¸æˆå¹³å°
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  # ======== å…¨çƒç›´è¿ ========
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©

  # ======== å¹¿å‘Šæ‹¦æˆª ========
  - name: ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT

  # ======== å…œåº•è§„åˆ™ ========
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - DIRECT
      - ğŸ”§ æ‰‹åŠ¨åˆ‡æ¢

  # ======== åœ°åŒºèŠ‚ç‚¹ç»„ï¼ˆè‡ªåŠ¨æµ‹é€Ÿï¼‰ ========
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    lazy: true

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 80
    lazy: true

  - name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 150
    lazy: true

  - name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 80
    lazy: true

  - name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 80
    lazy: true

  - name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 80
    lazy: true

  - name: ğŸŒ å…¶ä»–èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 150
    lazy: true

# ====================================================
# åˆ†æµè§„åˆ™
# ====================================================
rules:
  # æœ¬åœ°/å±€åŸŸç½‘ç›´è¿
  - RULE-SET,LocalAreaNetwork,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,UnBan,ğŸ¯ å…¨çƒç›´è¿

  # å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanAD,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,BanProgramAD,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª

  # AI å¹³å°
  - RULE-SET,AI,ğŸ¤– AI å¹³å°
  - RULE-SET,OpenAi,ğŸ¤– AI å¹³å°

  # ç¤¾äº¤é€šè®¯
  - RULE-SET,Telegram,ğŸ“² Telegram

  # æµåª’ä½“
  - RULE-SET,YouTube,ğŸ“¹ YouTube
  - RULE-SET,Netflix,ğŸ¥ Netflix
  - RULE-SET,Spotify,ğŸµ Spotify
  - RULE-SET,ProxyMedia,ğŸ“¹ YouTube

  # å¾®è½¯æœåŠ¡
  - RULE-SET,Bing,ğŸ¤– AI å¹³å°
  - RULE-SET,OneDrive,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡

  # è‹¹æœæœåŠ¡
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡

  # è°·æ­ŒæœåŠ¡
  - RULE-SET,GoogleFCM,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,GoogleCN,ğŸ¯ å…¨çƒç›´è¿

  # æ¸¸æˆå¹³å°
  - RULE-SET,Epic,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,Origin,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,Sony,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,Steam,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,SteamCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Nintendo,ğŸ® æ¸¸æˆå¹³å°

  # å›½å†…åª’ä½“ / å“”å“©å“”å“©
  - RULE-SET,BilibiliHMT,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Bilibili,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaMedia,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,NetEaseMusic,ğŸ¯ å…¨çƒç›´è¿

  # ä»£ç†åˆ—è¡¨
  - RULE-SET,ProxyGFWlist,ğŸš€ èŠ‚ç‚¹é€‰æ‹©

  # å›½å†…åŸŸå/IPç›´è¿
  - RULE-SET,ChinaDomain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaCompanyIp,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿

  # GeoIP ä¸­å›½ç›´è¿
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿

  # å…œåº•è§„åˆ™
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# ====================================================
# è§„åˆ™æä¾›å•†ï¼ˆACL4SSR è§„åˆ™é›†ï¼‰
# ====================================================
rule-providers:
  LocalAreaNetwork:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
    format: text
    path: ./providers/LocalAreaNetwork.txt
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list
    format: text
    path: ./providers/UnBan.txt
    interval: 86400
  BanAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
    format: text
    path: ./providers/BanAD.txt
    interval: 86400
  BanProgramAD:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
    format: text
    path: ./providers/BanProgramAD.txt
    interval: 86400
  AI:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/AI.list
    format: text
    path: ./providers/AI.txt
    interval: 86400
  OpenAi:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list
    format: text
    path: ./providers/OpenAi.txt
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list
    format: text
    path: ./providers/Telegram.txt
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list
    format: text
    path: ./providers/YouTube.txt
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list
    format: text
    path: ./providers/Netflix.txt
    interval: 86400
  Spotify:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Spotify.list
    format: text
    path: ./providers/Spotify.txt
    interval: 86400
  ProxyMedia:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list
    format: text
    path: ./providers/ProxyMedia.txt
    interval: 86400
  Bing:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Bing.list
    format: text
    path: ./providers/Bing.txt
    interval: 86400
  OneDrive:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list
    format: text
    path: ./providers/OneDrive.txt
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list
    format: text
    path: ./providers/Microsoft.txt
    interval: 86400
  Apple:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list
    format: text
    path: ./providers/Apple.txt
    interval: 86400
  GoogleFCM:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list
    format: text
    path: ./providers/GoogleFCM.txt
    interval: 86400
  GoogleCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list
    format: text
    path: ./providers/GoogleCN.txt
    interval: 86400
  Epic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Epic.list
    format: text
    path: ./providers/Epic.txt
    interval: 86400
  Origin:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Origin.list
    format: text
    path: ./providers/Origin.txt
    interval: 86400
  Sony:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Sony.list
    format: text
    path: ./providers/Sony.txt
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list
    format: text
    path: ./providers/Steam.txt
    interval: 86400
  SteamCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list
    format: text
    path: ./providers/SteamCN.txt
    interval: 86400
  Nintendo:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Nintendo.list
    format: text
    path: ./providers/Nintendo.txt
    interval: 86400
  BilibiliHMT:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list
    format: text
    path: ./providers/BilibiliHMT.txt
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list
    format: text
    path: ./providers/Bilibili.txt
    interval: 86400
  ChinaMedia:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list
    format: text
    path: ./providers/ChinaMedia.txt
    interval: 86400
  NetEaseMusic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/NetEaseMusic.list
    format: text
    path: ./providers/NetEaseMusic.txt
    interval: 86400
  ProxyGFWlist:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
    format: text
    path: ./providers/ProxyGFWlist.txt
    interval: 86400
  ChinaDomain:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
    format: text
    path: ./providers/ChinaDomain.txt
    interval: 86400
  ChinaCompanyIp:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list
    format: text
    path: ./providers/ChinaCompanyIp.txt
    interval: 86400
  Download:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list
    format: text
    path: ./providers/Download.txt
    interval: 86400
